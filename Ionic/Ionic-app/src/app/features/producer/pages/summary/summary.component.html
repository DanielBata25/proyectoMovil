<ion-header collapse="fade">
  <ion-toolbar color="light">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/account/info"></ion-back-button>
    </ion-buttons>
    <ion-title>Resumen</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen class="summary-content">
  <section class="summary-section">
    <h2 class="section-title">Productos</h2>

    <div class="metrics-grid">
      <div class="metric-card">
        <span class="metric-value">{{ pendingOrders }}</span>
        <span class="metric-label">Pedidos pendientes</span>
      </div>
      <div class="metric-card">
        <span class="metric-value">{{ publishedProducts || 0 }}</span>
        <span class="metric-label">Productos publicados</span>
      </div>
      <div class="metric-card metric-card--wide">
        <span class="metric-value">{{ totalOrders }}</span>
        <span class="metric-label">Pedidos recibidos</span>
      </div>
    </div>
  </section>

  <section class="summary-section">
    <ion-segment [value]="range" (ionChange)="onRangeChange($event)">
      <ion-segment-button value="day">
        <ion-label>Dia</ion-label>
      </ion-segment-button>
      <ion-segment-button value="week">
        <ion-label>Semana</ion-label>
      </ion-segment-button>
      <ion-segment-button value="month">
        <ion-label>Mes</ion-label>
      </ion-segment-button>
    </ion-segment>
  </section>

  <section class="summary-section">
    <div class="orders-header">
      <div>
        <p class="orders-caption">Pedidos totales</p>
        <h3 class="orders-total">{{ totalOrders }}</h3>
        <p class="orders-delta">Este {{ rangeLabel }} <span class="positive">+15%</span></p>
      </div>
    </div>

    <div class="chart-card" *ngIf="!chartLoading; else chartSkeleton">
      <canvas
        baseChart
        [data]="barChartData"
        [options]="barChartOptions"
        [type]="'bar'">
      </canvas>
    </div>
    <ng-template #chartSkeleton>
      <div class="chart-card chart-card--loading">
        <ion-skeleton-text animated style="height: 180px"></ion-skeleton-text>
      </div>
    </ng-template>
  </section>
</ion-content>



